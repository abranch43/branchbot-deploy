Branchberg Revenue Command Center â€” Ship-Safe Repo + Real-Time Console

Your revenue is scattered across Stripe, Gumroad, offline contracts, and manual spreadsheets. You're flying blind until month-end when accounting finally reconciles everything. What if you could see every dollar the moment it hitsâ€”no matter the sourceâ€”and get instant alerts when something looks off?

The Branchberg Revenue Command Center is your unified revenue ledger for the modern business. It's a ready-to-deploy FastAPI backend + Streamlit dashboard that listens to Stripe and Gumroad webhooks, stores every transaction in a PostgreSQL database, and gives you a live command center where totals refresh every 10 seconds.

This isn't just another analytics tool. It's a complete, production-ready repository built for founders, fractional CFOs, and enterprise operators who need ship-safe code they can trust on day one.


âœ… What's Included

Ship-Safe FastAPI Backend
â€¢ Webhook endpoints for Stripe + Gumroad with cryptographic signature verification
â€¢ Manual revenue ingestion API for offline contracts and POs
â€¢ Idempotent event processing (prevents duplicate recording on webhook retries)
â€¢ Built-in input validation and sanitization for security
â€¢ Health check endpoint for monitoring
â€¢ SAFE_MODE flag to disable risky integrations in production
â€¢ Comprehensive error handling and logging

Streamlit Real-Time Console
â€¢ Auto-refreshing dashboard (updates every 10 seconds)
â€¢ Today / This Week / All-Time revenue totals
â€¢ Live event feed with timestamps, amounts, and sources
â€¢ Clean, professional UI that works out of the box
â€¢ Responsive design for desktop and mobile

Railway-Provisioned PostgreSQL Backing Store
â€¢ Automatically provisioned database with managed backups
â€¢ Three tables: revenue_events, revenue_summaries, revenue_alerts
â€¢ Optimized indexes for fast queries
â€¢ Full schema documentation in AGENTS.md
â€¢ Migration scripts ready to run

Complete Repository Contents
â€¢ `/api` â€” FastAPI backend with webhook handlers
â€¢ `/dashboard` â€” Streamlit dashboard with real-time refresh
â€¢ `/database` â€” PostgreSQL schema and migrations
â€¢ `README.md` â€” Step-by-step deployment guide
â€¢ `AGENTS.md` â€” Full agent specification with database schema
â€¢ `requirements.txt` â€” All Python dependencies pinned
â€¢ `railway.json` â€” One-click Railway deploy configuration
â€¢ `.env.example` â€” Environment variable template

Security & CI Built In
â€¢ GitHub Actions CI/CD with automated testing
â€¢ Pre-commit hooks for code quality
â€¢ Bandit security scanner integration
â€¢ No secrets in code (all via environment variables)
â€¢ Input validation on all endpoints
â€¢ Webhook signature verification (Stripe + Gumroad)
â€¢ HTTPS/SSL enforced by default on Railway

Deployment Guide
â€¢ Railway one-click deploy button (2 minutes to live)
â€¢ Exact webhook configuration steps for Stripe and Gumroad
â€¢ Environment variable checklist (required + optional)
â€¢ Test commands to verify your setup
â€¢ Local development instructions if you want to iterate

Example Webhook Test Commands
â€¢ Stripe CLI test: `stripe trigger checkout.session.completed`
â€¢ Gumroad test: curl command with HMAC signature example
â€¢ Manual entry endpoint: authenticated POST with JSON payload


ğŸ¯ Perfect For

â€¢ **SaaS Founders**: Track Stripe subscriptions + Gumroad one-time sales in one place
â€¢ **Fractional CFOs**: Give clients a live revenue dashboard they can check anytime
â€¢ **Enterprise Ops**: Monitor revenue across multiple entities (A+ Enterprise LLC, Legacy Unchained Inc, etc.)
â€¢ **Finance Teams**: Replace manual spreadsheets with automated, auditable ledger
â€¢ **Startup Operators**: See today's revenue before you finish your morning coffee


ğŸš€ What You Get (The Complete Package)

1. **Full GitHub Repository** with MIT license
   â€¢ Fork it, customize it, make it yours
   â€¢ All code is readable, documented, and follows Python best practices (PEP 8, type hints)

2. **Database Schema** (PostgreSQL)
   â€¢ `revenue_events` â€” Every transaction with provider, amount, customer, metadata
   â€¢ `revenue_summaries` â€” Daily/weekly/monthly rollups
   â€¢ `revenue_alerts` â€” Anomaly detection and threshold notifications

3. **Environment Config Template** (`.env.example`)
   â€¢ STRIPE_WEBHOOK_SECRET (required)
   â€¢ GUMROAD_WEBHOOK_SECRET (required)
   â€¢ DATABASE_URL (auto-set by Railway)
   â€¢ SAFE_MODE=true (recommended for production)
   â€¢ SLACK_WEBHOOK_URL (optional, for daily summaries)
   â€¢ OPENAI_API_KEY (optional, for AI-powered insights)

4. **Security Notes**
   â€¢ Webhook signature verification on every request
   â€¢ Input validation and sanitization
   â€¢ Environment encryption (Railway handles this)
   â€¢ No secrets in code, ever
   â€¢ HTTPS/SSL enforced by default

5. **Deployment Guide** (Step-by-Step)
   â€¢ Click "Deploy on Railway" button
   â€¢ Set 2 required environment variables (webhook secrets)
   â€¢ Wait 60 seconds for services to turn green
   â€¢ Copy your API public domain
   â€¢ Configure webhooks in Stripe and Gumroad dashboards
   â€¢ Open your dashboard URL and watch revenue roll in

6. **Test Commands** (Verify Your Setup)
   â€¢ Stripe: `stripe listen --forward-to <YOUR-API>/webhooks/stripe`
   â€¢ Gumroad: Example curl command with signature generation
   â€¢ Manual entry: POST to `/api/manual-revenue` with JSON payload


ğŸ› ï¸ What You Need to Bring

â€¢ **Stripe Account** (free to create, provides webhook secret)
â€¢ **Gumroad Account** (if you sell on Gumroad, provides webhook secret)
â€¢ **Railway Account** (free tier works, but production needs paid plan for uptime)
â€¢ **Webhook Secrets** (copy from Stripe/Gumroad dashboards after deploy)

That's it. No other dependencies, no hidden fees, no complex setup.


ğŸ“¦ File Structure (What You're Downloading)

```
branchbot-deploy/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ main.py              # FastAPI app entrypoint
â”‚   â”œâ”€â”€ webhooks.py          # Stripe + Gumroad webhook handlers
â”‚   â”œâ”€â”€ models.py            # Database models
â”‚   â””â”€â”€ utils.py             # Signature verification, validation
â”œâ”€â”€ dashboard/
â”‚   â””â”€â”€ main.py              # Streamlit dashboard
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ schema.sql           # PostgreSQL schema
â”‚   â””â”€â”€ migrations/          # Alembic migrations
â”œâ”€â”€ jobs/
â”‚   â””â”€â”€ daily_summary.py     # Scheduled job for 06:00 Central
â”œâ”€â”€ README.md                # Full deployment guide
â”œâ”€â”€ AGENTS.md                # Revenue Tracking Agent specification
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ railway.json             # Railway config (one-click deploy)
â”œâ”€â”€ .env.example             # Environment variable template
â””â”€â”€ Procfile                 # Railway service definitions
```


âš¡ The Promise

You can have a live revenue command center in under a day. Not "eventually." Not "after you figure out the database." Today.

â€¢ Deploy in 2 minutes with Railway's one-click button
â€¢ Configure webhooks in 5 minutes (Stripe + Gumroad dashboards)
â€¢ Watch your first transaction land in real-time

From scattered spreadsheets to unified command center. From month-end surprises to minute-by-minute clarity. From "I think we're doing okay" to "Here's exactly where we are."

This is the Revenue Command Center you've been meaning to build. But it's already built. Just deploy it.


ğŸ”’ Security & Compliance

â€¢ Webhook signature verification (cryptographic validation on every request)
â€¢ Input sanitization (prevents SQL injection, XSS)
â€¢ Environment encryption (Railway stores secrets encrypted at rest)
â€¢ HTTPS/SSL (enforced by default, no HTTP allowed)
â€¢ Audit trail (every revenue event is logged with timestamp)
â€¢ SAFE_MODE flag (disables risky integrations in production)
â€¢ Regular dependency updates via Dependabot
â€¢ GitHub Actions security scanning (Bandit + CodeQL)


ğŸ’¼ Business Context

Built by Antonio Branch for A+ Enterprise LLC and Legacy Unchained Inc as part of the Empire OS financial infrastructure. Used in production to track revenue across multiple entities, payment providers, and contract types. Now available for your business.

This is the same system that powers real-time financial insights for government contractors, SaaS operators, and multi-entity businesses. It's battle-tested, production-ready, and designed for enterprises that can't afford revenue blind spots.


ğŸ“ Questions?

â€¢ **Email**: antonio.branch31@gmail.com
â€¢ **GitHub Issues**: https://github.com/abranch43/branchbot-deploy/issues
â€¢ **Documentation**: Full API docs at `/docs` endpoint after deployment

This is not a course. This is not a template. This is a complete, working system. Clone it, deploy it, and start tracking revenue today.


---

License: MIT (commercial use allowed)
Support: Community support via GitHub Issues, priority support available for enterprises
Updates: Maintained actively, security patches pushed regularly
